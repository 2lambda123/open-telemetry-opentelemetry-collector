type: otlphttp

status:
  class: exporter
  stability:
    stable: [traces, metrics]
    beta: [logs]
  distributions: [core, contrib, k8s]

tests:
  config:
    endpoint: "https://1.2.3.4:1234"

# TODO: Also schematise feature gates?
# TODO: Link to the json schema so that we get autocompletion
config:
  type: object
  # additionalProperties: false
  description: "Configuration parameters for the OTLP HTTP exporter."
  allOf:
    - "$ref": "../../config/confighttp/confighttp.yaml#/$defs/client_config"
  properties:
    traces_endpoint:
      type: string
      default: ""
      description: 
    metrics_endpoint:
      type: string
      default: ""
      description:
    logs_endpoint:
      type: string
      default: ""
      description:
    encoding:
      type: string
      enum: ["proto", "json"]
      default: "proto"
      description:
    sending_queue:
      "$ref": "../exporterhelper/queue_sender.yaml#/$defs/sending_queue"
    retry_on_failure:
      "$ref": "../../config/configretry/backoff.yaml#/$defs/retry_on_failure"