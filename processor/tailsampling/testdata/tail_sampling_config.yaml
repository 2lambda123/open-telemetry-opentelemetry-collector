receivers:
  examplereceiver:

exporters:
  exampleexporter:

processors:
  tail-sampling:
    decision-wait: 10s
    num-traces: 100
    expected-new-traces-per-sec: 10
    policies:
      [
          {
            name: test-policy-1,
            type: always-sample
          },
          {
            name: test-policy-2,
            type: numeric-attribute-filter,
            numeric-attribute-filter: {key: key1, min-value: 50, max-value: 100}
          },
          {
            name: test-policy-3,
            type: string-attribute-filter,
            string-attribute-filter: {key: key2, values: [value1, value2]}
          },
          {
            name: test-policy-4,
            type: rate-limiting-filter,
            rate-limiting-filter: {spans-per-second: 35}
         }
      ]

pipelines:
  traces:
    receivers: [examplereceiver]
    processors: [tail-sampling]
    exporters: [exampleexporter]
